<!Doctype html5>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<title> Innovation Movie Store </title>
		<script src="https://use.fontawesome.com/b4ff8074fd.js"></script>
		<link rel="stylesheet" type="text/css" href="css/bootstrap/css/bootstrap.css"/>

		<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.1.1.min.js"></script>
		<script src="css/bootstrap/js/bootstrap.min.js"></script>
		<script src="js/movieNames.js"></script>
		<script src="js/htmlTemplates.js"></script>
		<script src="js/basket.js"></script>

		<link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet"/>
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<script src="https://sdk.yoti.com/clients/browser.js"></script>
		<link rel="shortcut icon" href="css/img/favicon.ico"/>
		<link rel="stylesheet" type="text/css" href="css/main.css" />
	</head>
	<body>
		<div class="container">
				<div class="row" id="titleBar">
					<br/>
					<div class="col-sm-6">
						<svg viewBox="0 0 350 50">
  							<a href="/"><text y="40"> Innovation Movie Store </text></a>
						</svg>
					</div>
					<div class="col-sm-4">
					</div>
					<div class="col-sm-2" id="worldpayTitle">
						<h4 id="tagText"> brought to you by </h4>
						<img src="css/img/worldpayLogo.jpg" width="80%"/>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-4">
					</div>
					<div class="col-sm-8"> 
					</div>
				</div>
					<div class="col-sm-1">
					</div>
					<div class="col-sm-4 shoppingBasketPage">
								<h3> Card Details: </h3>
						        <span id="paymentErrors"></span>
					            <form action="/pay" method="GET">
						            <div class="row">
						            	<div class="col-sm-4">
						                	<p><label>Name on Card</label></p>
						                </div>
						                <input id="name" data-worldpay="name" name="name" type="text" />
						            </div>
						            <div class="row">
						            	<div class="col-sm-4">
						                	<p><label>Card Number</label></p>
						                </div>
						                <input id="cardNumber" name="cardNumber" data-worldpay="number" size="20" type="text" />
						            </div>
						            <div class="row">
						            	<div class="col-sm-4">
						                	<p><label>Expiration (MM/YYYY)</label></p>
						                </div>
						                <input id="expiryMonth" name="expiryMonth" data-worldpay="exp-month" size="2" type="text" />
						                <label> / </label>
						                <input id="expiryYear" name="expiryYear" data-worldpay="exp-year" size="4" type="text" />
						            </div>
						            <div class="row">
						            	<div class="col-sm-4">
						               		<p><label>CVC</label></p>
						               	</div>
						                <input id="cvc" name="cvc" data-worldpay="cvc" size="4" type="text" />
						            </div>
						            <input type="hidden" name="price" id="hiddenPrice"/>
						            <div class="row">
						            	<div class="col-sm-12">
						            		<input type="submit" value="Pay By Card" onclick="updatePrice();"/>
						            	</div>
						            </div>
					        </form>
					</div>
					<div class="col-sm-1">
					</div>
					<div class="col-sm-6">
						<div class="row">
							<div class="col-sm-1">
							</div>
							<div class="col-sm-8 shoppingBasketPage">
								<div class="row">
									<h3> Shopping Basket </h3>
								</div>
								<div id="basket" class="row">
								</div>
								<div class="row" id="total">
									<div class="col-sm-9" align="right">
										<strong> Total price: </strong>
									</div>
									<div class="col-sm-2" id="price">
									</div>
								</div>
								<br/>

								<br/>
							</div>
							<div class="col-sm-1">
							</div>
					</div>
				</div>
		</div>
			<script>
				_ybg.config.service = 'https://www.yoti.com/connect/'
				_ybg.init()
			</script>
   			<script>
   				RewriteFromStorage();
   				function updatePrice() {
   					document.querySelector('input[name="price"]').value = sessionStorage.totalPrice;
   				};
   			</script>
	</body>
</html>